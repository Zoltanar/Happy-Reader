<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:view="clr-namespace:Happy_Reader.View"
        xmlns:viewModel="clr-namespace:Happy_Reader.ViewModel"
    x:Class="Happy_Reader.View.MainWindow"
        mc:Ignorable="d"
        Title="Happy Reader" MinWidth="800" MinHeight="600" Width="800" Height="600"  
    Loaded="Window_Loaded" Closing="Window_Closing" 
    Icon="/Happy Reader;component/Resources/logo-hr.png" d:DataContext="{d:DesignInstance viewModel:MainWindowViewModel}">
    <Grid Background="#FF2E4876">
        <TabControl x:Name="MainTabControl" Margin="10" >
            <TabItem Header="Games" >
                <Grid Background="#FFC9E1F5" AllowDrop="True" Drop="DropFileOnGamesTab">
                    <ListBox x:Name="GameFiles"  Margin="10,10,10,53" MouseDoubleClick="GameFiles_MouseDoubleClick" ItemsSource="{Binding UserGameItems}" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                        <ListBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ListBox.ItemsPanel>
                    </ListBox>
                    <Button Content="Debug"  Click="Debug_Button"  HorizontalAlignment="Left" Margin="10,0,0,10" Width="49" Height="38" VerticalAlignment="Bottom"/>
                    <Label x:Name="GameResponseLabel" Content="{Binding StatusText}" Margin="245,0,10,10" Height="38" VerticalAlignment="Bottom" HorizontalContentAlignment="Right" VerticalContentAlignment="Center"/>
                    <Button Content="Remove"  Click="RemoveUserGame"  HorizontalAlignment="Left" Margin="64,0,0,10" Width="48" Height="38" VerticalAlignment="Bottom"/>
                    <CheckBox Content="Capture Clipboard" HorizontalAlignment="Left" Margin="117,0,0,10" Width="123" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Height="38" VerticalAlignment="Bottom"  IsChecked="{Binding CaptureClipboard}"/>
                </Grid>
            </TabItem>
            <TabItem Header="Entries">
                <Grid>
                    <CheckBox Content="Game-only" HorizontalAlignment="Left" VerticalAlignment="Top" IsChecked="{Binding OnlyGameEntries, Mode=TwoWay}"/>
                    <Button Content="Add Entry" Margin="83,0,0,0" VerticalAlignment="Top" Click="AddEntry_Click" HorizontalAlignment="Left" Width="90"/>
                    <DataGrid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ItemsSource="{Binding EntriesList}" Margin="0,25,0,0" />
                </Grid>
            </TabItem>
            <TabItem Header="Test">
                <view:TestTranslationPanel DataContext="{Binding TestViewModel}"/>
            </TabItem>
            <TabItem Header="Database">
                <view:VNTab DataContext="{Binding DatabaseViewModel}"/>
            </TabItem>
            <TabItem Header="Information">
                <Grid Background="DimGray">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="160"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="340"/>
                        </Grid.ColumnDefinitions>
                        <TextBox TextWrapping="Wrap" IsReadOnly="True" Text="Information About This Program" Margin="10" Background="Black" Foreground="White"/>
                    </Grid>
                    <Grid Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2.5*"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Height="47" Margin="10,10,10,0" TextWrapping="Wrap" Text="Send Query Here" VerticalAlignment="Top"/>
                        <Button Grid.Column="0" Content="Send" Margin="0,62,10,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="48"/>
                        <ListBox Grid.Column="0" Background="Black" ItemsSource="{Binding VndbQueries}" Margin="10,87,10,10" 
                                 HorizontalContentAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Width="{Binding ViewportWidth, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ScrollViewer}}}">
                                        <TextBox TextWrapping="Wrap" Text="{Binding Path=DataContext ,RelativeSource={RelativeSource Self}}" Foreground="White" Background="{x:Null}" BorderBrush="LightGray" />
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                        <Button Grid.Column="0" Content="Clear" Margin="0,62,63,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="45"/>
                        <CheckBox Foreground="White" Grid.Column="0" Content="Advanced Mode" Margin="0,65,113,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="71" IsChecked="{Binding GSettings.AdvancedMode}"/>
                        <ListBox Grid.Column="1" Margin="10" ItemsSource="{Binding VndbResponses}" Background="Black" 
                                 HorizontalContentAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Width="{Binding ViewportWidth, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ScrollViewer}}}">
                                        <TextBox TextWrapping="Wrap" Text="{Binding Path=DataContext ,RelativeSource={RelativeSource Self}}" Foreground="White" Background="{x:Null}" BorderBrush="LightGray" />
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </Grid>
                </Grid>
            </TabItem>
        </TabControl>

    </Grid>
</Window>
